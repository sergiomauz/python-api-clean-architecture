# redis-dev.conf

# ===== CONFIGURACIÓN DE RED =====
bind 0.0.0.0
port 6379
# Más flexible para desarrollo
protected-mode no
# Sin timeout de cliente
timeout 0

# ===== SEGURIDAD (Relajada) =====
# requirepass desarrollo123         # Password opcional
# rename-command FLUSHDB ""         # Opcional: deshabilitar comandos peligrosos

# ===== MEMORIA =====
# Límite bajo para desarrollo
maxmemory 128mb
# Eliminar claves menos usadas
maxmemory-policy allkeys-lru        
maxmemory-samples 5

# ===== PERSISTENCIA (Frecuente) =====
dir /data
# Guardar cada minuto si hay cambios
save 60 1
# Más frecuente para no perder datos                
save 30 100

# AOF para mejor durabilidad en dev
appendonly yes
appendfilename "appendonly.aof"
# Balance entre rendimiento y seguridad
appendfsync everysec
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# ===== LOGGING (Verbose) =====
# Más información para debugging
loglevel debug
# Log a stdout
logfile ""
syslog-enabled no

# ===== PERFORMANCE (Relajado) =====
# Múltiples DBs para testing
databases 16 
tcp-keepalive 300
tcp-backlog 511

# ===== CONFIGURACIONES DE DESARROLLO =====
# No parar por errores de guardado
stop-writes-on-bgsave-error no     
rdbcompression yes
rdbchecksum yes